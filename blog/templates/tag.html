{% extends 'base.html' %}
{% block title %}
    个人博客
{% endblock %}

{% block main %}
    <div class='row' style="margin: auto;width: 95%; border: 1px solid red;">
        <div class="col-8">
            <div class="pagination">
            <span class="step-links">
                <span class="current">
                    当前页 {{ page_obj.number }} 总页数 {{ page_obj.paginator.num_pages }}.
                </span>
                {% if page_obj.has_previous %}
                    <a href="/blog/tag/{{ tag_id }}/?page=1">首页</a>
                    <a href="/blog/tag/{{ tag_id }}/?page={{ page_obj.previous_page_number }}">上一页</a>
                {% endif %}
                {% if page_obj.has_next %}
                    <a href="/blog/tag/{{ tag_id }}/?page={{ page_obj.next_page_number }}">下一页</a>
                    <a href="/blog/tag/{{ tag_id }}/?page={{ page_obj.paginator.num_pages }}">尾页</a>
                {% endif %}
            </span>
        </div>
            {% for contact in page_obj %}
            <h2><a href="/blog/ArticleDesc/?id={{ contact.id }}">{{ contact.title|upper }}</a></h2>
            <h4>{{ contact.desc }}</h4>
            <ul class="d-inline">
                {% for i in contact.tag.all %}
                <li>{{ i.tname }}</li>
                {% endfor %}
            </ul>
        {% endfor %}
        </div>
        <div class="col-4 ">
    <div>
        <span>文章分类</span>
        <ul>
            {% regroup contents.articles by catagory.id as group_articles %}
            {% for g in group_articles %}
                 <li><a href="/blog/catagory/{{ g.list.0.catagory.id }}/">{{ g.list.0.catagory.cname }}({{ g.list | length }})</a></li>
            {% endfor %}
        </ul>
    </div>
    <div>
        <span>我的标签</span>
        <ul>
        {% for i in contents.articles_by_tag %}

            <li>
                <a href="/blog/tag/{{ i.id }}/">{{ i.tname }}({{ i.count }})</a>
            </li>

        {% endfor %}
        </ul>
    </div>
</div>
    </div>
{% endblock %}
